{"version":3,"sources":["assets/images/user-icon.svg","assets/images/users/follow.svg","assets/images/users/unfollow.svg","componets/Users/User/User.module.scss","componets/Users/Users.module.scss","componets/Users/User/User.jsx","componets/Users/Users.jsx","componets/Users/UsersContainer.jsx"],"names":["module","exports","User","id","photo","name","status","followed","followUser","unfollowUser","followingInProgress","startDialogWithUser","isDesktopOrLaptop","useMediaQuery","query","followName","className","style","user","user__logo","link","user__info","user__name","user__status","user__profile","icon","userIcon","onClick","user__dialog","messageIcon","user__follow","disabled","some","userId","accent","unfollowIcon","followIcon","Users","users","totalUsersCount","pageSize","onPageChange","onPageChanget","currentPage","isLoading","updatePageSize","pagPortionNumber","setPagPortionNumber","pagesCount","Math","ceil","pages","i","push","usersOnPageOpt","value","label","usersList","map","u","key","photos","small","users__wrap","users__scrollbar","component","Head","title","users__settings","Select","users__select","onChange","options","defaultValue","Pagination","users__pagination","items","setCurrentItem","currentItem","Preloader","Fragment","users__list","UsersContainer","pageNumber","props","getUsers","setCurrentPage","this","toogleRightSidebar","React","Component","UsersCompose","compose","connect","state","getPageSize","getTotalUsersCount","getCurrentPage","getIsLoading","getFollowingInProgress","getPagPortionNumber","getRequestUsers","withAuthRedirect"],"mappings":"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","file":"static/js/3.353c3827.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/user-icon.c90b1dce.svg\";","module.exports = __webpack_public_path__ + \"static/media/follow.bf3bcf8c.svg\";","module.exports = __webpack_public_path__ + \"static/media/unfollow.e51ba20e.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__2r1C9\",\"user__logo\":\"User_user__logo__yBE0r\",\"user__info\":\"User_user__info__3SpLK\",\"user__name\":\"User_user__name__3PvDR\",\"user__status\":\"User_user__status__MYr9O\",\"user__profile\":\"User_user__profile__jvy4h\",\"user__dialog\":\"User_user__dialog__1mi15\",\"user__follow\":\"User_user__follow__1iAuv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__MRqYF\",\"showIn\":\"Users_showIn__2lAeZ\",\"users__preloader\":\"Users_users__preloader__2mQAf\",\"users__wrap\":\"Users_users__wrap__2g6vn\",\"users__scrollbar\":\"Users_users__scrollbar__1sa7j\",\"users__settings\":\"Users_users__settings__2x_YH\",\"users__select\":\"Users_users__select__2EHYN\",\"users__pagination\":\"Users_users__pagination__13DiS\",\"users__list\":\"Users_users__list__3B_Tj\"};","import React from 'react';\r\nimport { useMediaQuery } from 'react-responsive';\r\n\r\nimport messageIcon from '../../../assets/images/message-white.svg';\r\nimport userIcon from '../../../assets/images/user-icon.svg';\r\nimport followIcon from '../../../assets/images/users/follow.svg';\r\nimport unfollowIcon from '../../../assets/images/users/unfollow.svg';\r\nimport { Button, NavLinkButton } from '../../common/Buttons/Buttons';\r\nimport { UserPhotoLink } from '../../common/UserFoto/UserFoto';\r\n\r\nimport style from './User.module.scss';\r\n\r\nconst User = ({\r\n  id,\r\n  photo,\r\n  name,\r\n  status,\r\n  followed,\r\n  followUser,\r\n  unfollowUser,\r\n  followingInProgress,\r\n  startDialogWithUser,\r\n}) => {\r\n  const isDesktopOrLaptop = useMediaQuery({\r\n    query: '(min-device-width: 1224px)',\r\n  });\r\n  const isTablet = useMediaQuery({\r\n    query: '(min-device-width: 767.98px)',\r\n  });\r\n\r\n  const follow = () => {\r\n    followUser(id);\r\n  };\r\n  const unfollow = () => {\r\n    unfollowUser(id);\r\n  };\r\n  let followName = null;\r\n  if (isTablet) {\r\n    followName = followed ? 'unfollow' : 'follow';\r\n  }\r\n  const handleClick = () => {};\r\n  const startDialog = () => {\r\n    startDialogWithUser(id);\r\n  };\r\n  return (\r\n    <li className={style.user}>\r\n      <UserPhotoLink\r\n        className={style.user__logo}\r\n        link={'/profile/' + id}\r\n        photo={photo != null && photo}\r\n      />\r\n      <div className={style.user__info}>\r\n        <h3 className={style.user__name}>{name}</h3>\r\n        <p className={style.user__status}>{status}</p>\r\n      </div>\r\n      <NavLinkButton\r\n        className={style.user__profile}\r\n        link={'/profile/' + id}\r\n        icon={userIcon}\r\n        onClick={handleClick}\r\n      />\r\n      <NavLinkButton\r\n        className={style.user__dialog}\r\n        link={'/dialogs/' + id}\r\n        name={isDesktopOrLaptop ? 'Message' : null}\r\n        onClick={startDialog}\r\n        icon={messageIcon}\r\n      />\r\n      <Button\r\n        className={style.user__follow}\r\n        name={followName}\r\n        disabled={followingInProgress.some(userId => userId === id)}\r\n        onClick={followed ? unfollow : follow}\r\n        accent={!followed && true}\r\n        icon={followed ? unfollowIcon : followIcon}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nexport { User };\r\n","import React from 'react';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\n\r\nimport { Head } from '../common/Head/Head';\r\nimport { Pagination } from '../common/Pagination/Pagination';\r\nimport { Preloader } from '../common/Preloader/Preloader';\r\nimport { Select } from '../common/Select/Select';\r\nimport { User } from './User/User';\r\n\r\nimport style from './Users.module.scss';\r\n\r\nconst Users = ({\r\n  users,\r\n  totalUsersCount,\r\n  pageSize,\r\n  onPageChanget: onPageChange,\r\n  currentPage,\r\n  isLoading,\r\n  followingInProgress,\r\n  followUser,\r\n  unfollowUser,\r\n  startDialogWithUser,\r\n  updatePageSize,\r\n  pagPortionNumber,\r\n  setPagPortionNumber,\r\n}) => {\r\n  const pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n  const pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n  const handleChange = value => {\r\n    updatePageSize(value.value);\r\n  };\r\n\r\n  const usersOnPageOpt = [\r\n    { value: '5', label: '5' },\r\n    { value: '15', label: '15' },\r\n    { value: '25', label: '25' },\r\n    { value: '50', label: '50' },\r\n  ];\r\n\r\n  const usersList = users.map(u => (\r\n    <User\r\n      key={u.id}\r\n      user={u}\r\n      id={u.id}\r\n      photo={u.photos.small}\r\n      name={u.name}\r\n      status={u.status}\r\n      followed={u.followed}\r\n      followingInProgress={followingInProgress}\r\n      followUser={followUser}\r\n      unfollowUser={unfollowUser}\r\n      startDialogWithUser={startDialogWithUser}\r\n    />\r\n  ));\r\n  return (\r\n    <div className={style.users__wrap}>\r\n      <PerfectScrollbar className={style.users__scrollbar} component=\"div\">\r\n        <div className={style.users}>\r\n          <Head title=\"Users list\" />\r\n          {totalUsersCount && (\r\n            <div className={style.users__settings}>\r\n              <Select\r\n                className={style.users__select}\r\n                label={'Users'}\r\n                onChange={handleChange}\r\n                options={usersOnPageOpt}\r\n                defaultValue={usersOnPageOpt[2]}\r\n              />\r\n              <Pagination\r\n                className={style.users__pagination}\r\n                items={pages}\r\n                setCurrentItem={onPageChange}\r\n                currentItem={currentPage}\r\n                pagPortionNumber={pagPortionNumber}\r\n                setPagPortionNumber={setPagPortionNumber}\r\n              />\r\n            </div>\r\n          )}\r\n          {isLoading ? (\r\n            <Preloader />\r\n          ) : (\r\n            <React.Fragment>\r\n              <ul className={style.users__list}>{usersList}</ul>\r\n              <div className={style.users__settings}>\r\n                <Pagination\r\n                  className={style.users__pagination}\r\n                  items={pages}\r\n                  setCurrentItem={onPageChange}\r\n                  currentItem={currentPage}\r\n                  pagPortionNumber={pagPortionNumber}\r\n                  setPagPortionNumber={setPagPortionNumber}\r\n                />\r\n              </div>\r\n            </React.Fragment>\r\n          )}\r\n        </div>\r\n      </PerfectScrollbar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { Users };\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\n\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { startDialogWithUser } from '../../redux/dialogsReducer';\r\nimport {\r\n  followUser,\r\n  getRequestUsers,\r\n  setCurrentPage,\r\n  setPagPortionNumber,\r\n  unfollowUser,\r\n  updatePageSize,\r\n} from '../../redux/usersReducer';\r\nimport {\r\n  getCurrentPage,\r\n  getFollowingInProgress,\r\n  getIsLoading,\r\n  getPageSize,\r\n  getTotalUsersCount,\r\n  getUsers,\r\n  getPagPortionNumber,\r\n} from '../../selectors/selectors';\r\nimport { toogleRightSidebar } from './../../redux/sidebarReducer';\r\nimport { Users } from './Users';\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    const { currentPage, pageSize } = this.props;\r\n    this.props.getUsers(currentPage, pageSize);\r\n    this.props.toogleRightSidebar(true);\r\n  }\r\n  onPageChanget = pageNumber => {\r\n    const { pageSize } = this.props;\r\n    this.props.getUsers(pageNumber, pageSize);\r\n    this.props.setCurrentPage(pageNumber);\r\n  };\r\n  render() {\r\n    return (\r\n      <Users\r\n        users={this.props.users}\r\n        totalUsersCount={this.props.totalUsersCount}\r\n        pageSize={this.props.pageSize}\r\n        currentPage={this.props.currentPage}\r\n        onPageChanget={this.onPageChanget}\r\n        followingInProgress={this.props.followingInProgress}\r\n        unfollowUser={this.props.unfollowUser}\r\n        followUser={this.props.followUser}\r\n        isLoading={this.props.isLoading}\r\n        startDialogWithUser={this.props.startDialogWithUser}\r\n        updatePageSize={this.props.updatePageSize}\r\n        pagPortionNumber={this.props.pagPortionNumber}\r\n        setPagPortionNumber={this.props.setPagPortionNumber}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isLoading: getIsLoading(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n    pagPortionNumber: getPagPortionNumber(state),\r\n  };\r\n};\r\n\r\nconst UsersCompose = compose(\r\n  connect(mapStateToProps, {\r\n    setCurrentPage,\r\n    getUsers: getRequestUsers,\r\n    followUser,\r\n    unfollowUser,\r\n    startDialogWithUser,\r\n    toogleRightSidebar,\r\n    updatePageSize,\r\n    setPagPortionNumber,\r\n  }),\r\n  withAuthRedirect\r\n)(UsersContainer);\r\n\r\nexport default UsersCompose;\r\n"],"sourceRoot":""}